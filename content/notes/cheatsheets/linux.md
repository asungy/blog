+++
draft = false
title = 'Linux'
readingTime = false
ToC = true
+++

## FFMPEG

### Converting MKV to MP4

Sometimes I take screen recordings and post them on GitLab for my team to reference. I use OBS which by default saves recordings to MKV files, but they display better in GitLab as MP4 files. This a command to convert MKV files to MP4 files:

```bash {caption="Generated by ChatGPT"}
ffmpeg -i input.mkv -c:v libx264 -c:a aac output.mp4
```

## Git

### Displaying last touched branches

I tend to create a lot of prototyping branches for features I'm working on, especially ones that require more complex implementations. Over the course of a few months, I can generate a dozen or so branches, most of which are stale.
```bash {caption="Generated by ChatGPT"}
for branch in $(git for-each-ref --format='%(refname:short)' refs/remotes/); do
  email=$(git log -1 --pretty=format:'%ae' "$branch")
  if [ "$email" = "$(git config user.email)" ]; then
    echo "$branch"
  fi
done
```

And this does the same except for local branches:
```bash
for branch in $(git for-each-ref --format='%(refname:short)' refs/heads/); do
  email=$(git log -1 --pretty=format:'%ae' "$branch")
  if [ "$email" = "$(git config user.email)" ]; then
    echo "$branch"
  fi
done
```
